<div class="column">
    <div class="type">
        <h2>Type</h2>
        <div>
            <span class="cb-epc">
                <Checkbox v-model="keuringForm.type" inputId="tkEpc" :value="TypeKeuring.EPC" />
                <label for="tkEpc" class="ml-2">{{ TypeKeuring.EPC }}</label>
            </span>
            <span class="cb-asbest">
                <Checkbox v-model="keuringForm.type" inputId="tkAsbest" :value="TypeKeuring.ASBEST" />
                <label for="tkAsbest" class="ml-2">{{ TypeKeuring.ASBEST }}</label>
            </span>
        </div>
    </div>
    <div class="klant">
        <h2>Klant</h2>
        <div>
            <ul>
                <li>
                    <Icon icon="mdi:account" width="24" />
                    <InputText type="text" v-model="keuringForm.voornaam" placeholder="Voornaam" required />
                </li>
                <li>
                    <Icon icon="" width="24" />
                    <InputText type="text" v-model="keuringForm.familienaam" placeholder="Familienaam"
                        required />
                </li>
                <li>
                    <Icon icon="mdi:at" width="24" />
                    <InputText type="email" v-model="keuringForm.emailadres" placeholder="Emailadres"
                        required />
                </li>
                <li>
                    <Icon icon="mdi:phone" width="24" />
                    <InputText type="tel" v-model="keuringForm.telefoonnummer" placeholder="Telefoonnummer"
                        required pattern="0*([1-9][0-9]*)(?:\s?\d{2}){3}" />

                </li>
            </ul>
        </div>
    </div>
    <div class="adres">
        <h2>Adres</h2>
        <div>
            <ul>
                <li>
                    <Icon icon="mdi:home" width="24" />
                    <InputText type="text" v-model="keuringForm.straatnaam" placeholder="Straat" />
                    <InputText type="text" v-model="keuringForm.nummer" placeholder="Nr" maxlength="10"
                        id="nummer" />

                </li>
                <li>
                    <Icon icon="mdi:city" width="24" />
                    <Dropdown resetFilterOnHide filter v-model="keuringForm.vlaamse_stad"
                        :options="vlaamseStedenStore.vlaamse_steden.map((vlaamse_stad) => vlaamse_stad)"
                        optionLabel="gemeente" placeholder="Gemeente" />
                </li>
            </ul>
        </div>
    </div>
    <div class="facturatie">
        <h2>Facturatie</h2>
        <div>
            <div class="rbs-bestemming">
                <span class="rb-hetzelfde">
                    <RadioButton v-model="keuringForm.facturatie.bestemming" inputId="fac_hetzelfde"
                        :value="FacturatieBestemming.HETZELFDE" @change="handleChangeFacturatieBestemming" />
                    <label for="fac_hetzelfde" class="ml-2">Klant</label>
                </span>
                <span class="rb-immo">
                    <RadioButton v-model="keuringForm.facturatie.bestemming" inputId="fac_immo"
                        :value="FacturatieBestemming.IMMO" @change="handleChangeFacturatieBestemming" />
                    <label for="fac_immo" class="ml-2">Immo</label>
                </span>
                <span class="rb-anders">
                    <RadioButton v-model="keuringForm.facturatie.bestemming" inputId="fac_anders"
                        :value="FacturatieBestemming.ANDERS" @change="handleChangeFacturatieBestemming" />
                    <label for="fac_anders" class="ml-2">Anders</label>
                </span>
            </div>
            <ul
                v-if="keuringForm.facturatie.bestemming === FacturatieBestemming.ANDERS && keuringForm.facturatie">
                <li>
                    <Icon icon="mdi:person" width="24" />

                    <InputText type="text" v-model="keuringForm.facturatie.voornaam" id="fac_voornaam"
                        placeholder="Voornaam" required />
                </li>
                <li>
                    <Icon icon="" width="24" />
                    <InputText type="text" v-model="keuringForm.facturatie.achternaam" id="fac_familienaam"
                        placeholder="Familienaam" required />
                </li>
                <li>
                    <Icon icon="mdi:at" width="24" />
                    <InputText type="email" v-model="keuringForm.facturatie.emailadres" id="fac_emailadres"
                        placeholder="Emailadres" required />
                </li>
                <li>
                    <Icon icon="mdi:phone" width="24" />
                    <InputText type="tel" v-model="keuringForm.facturatie.telefoonnummer"
                        id="fac_telefoonnummer" pattern="0*([1-9][0-9]*)(?:\s?\d{2}){3}"
                        placeholder="Telefoonnummer" required />

                </li>
                <li>
                    <Icon icon="mdi:home" width="24" />
                    <InputText type="text" v-model="keuringForm.facturatie.straatnaam" id="fac_straatnaam"
                        placeholder="Straat" required />
                    <InputText type="text" v-model="keuringForm.facturatie.nummer" id="fac_nummer"
                        placeholder="Nr" maxlength="10" required />
                </li>
                <li v-if="keuringForm.facturatie.vlaamse_stad">
                    <Icon icon="mdi:city" width="24" />
                    <Dropdown resetFilterOnHide filter v-model="keuringForm.facturatie.vlaamse_stad"
                        :options="vlaamseStedenStore.vlaamse_steden.map((vlaamse_stad) => vlaamse_stad)"
                        optionLabel="gemeente" placeholder="Gemeente" />
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="column">
    <div class="certificaten" v-if="keuringForm.straatnaam && keuringForm.nummer">
        <h2>Certificaten</h2>
        <div class="epc-asbest">
            <div class="epc" v-if="keuringForm.type.includes(TypeKeuring.EPC)">
                <div class="uploader-wrapper">
                    <input class="hidden" type="file" name="epcCertificaat" id="epcCertificaat" multiple
                        @change="($event) => uploadCertificaat($event, TypeKeuring.EPC)" accept=".pdf" />
                    <label for="epcCertificaat"> EPC Certificaat uploaden </label>
                    <ul v-if="keuringForm.epc_certificaten.length > 0">
                        <li v-for="( certificaat, index ) in  keuringForm.epc_certificaten "
                            :key="certificaat.naam">
                            <p>
                                <span class="naam" :title="certificaat.naam">
                                    {{ certificaat.naam }}
                                </span>
                                <span class="size">
                                    {{ formatFileSize(certificaat.size) }}
                                </span>
                            </p>
                            <button @click="($event) => removeCertificaat($event, index, TypeKeuring.EPC)">
                                <Icon icon="mdi:delete" width="16" />
                            </button>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="asbest" v-if="keuringForm.type.includes(TypeKeuring.ASBEST)">
                <div class="uploader-wrapper">
                    <input class="hidden" type="file" name="asbestCertificaat" id="asbestCertificaat" multiple
                        @change="($event) => uploadCertificaat($event, TypeKeuring.ASBEST)" accept=".pdf" />
                    <label for="asbestCertificaat"> Asbest Certificaat uploaden </label>
                    <ul v-if="keuringForm.asbest_certificaten.length > 0">
                        <li v-for="( certificaat, index ) in  keuringForm.asbest_certificaten "
                            :key="certificaat.naam">
                            <p>
                                <span class="naam" :title="certificaat.naam">
                                    {{ certificaat.naam }}
                                </span>
                                <span class="size">
                                    {{ formatFileSize(certificaat.size) }}
                                </span>
                            </p>
                            <button @click="($event) => removeCertificaat($event, index, TypeKeuring.ASBEST)">
                                <Icon icon="mdi:delete" width="16" />
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
            <div
                v-if="!keuringForm.type.includes(TypeKeuring.EPC) && !keuringForm.type.includes(TypeKeuring.ASBEST)">
                <p>Selecteer type keuring om een certificaat te uploaden</p>
            </div>
        </div>
    </div>
    <div class="toegang-eenheid">
        <h2>Toegang eenheid</h2>
        <div>
            <span class="rb-klant">
                <RadioButton v-model="keuringForm.toegang_eenheid" input-id="teKlant"
                    :value="ToegangEenheid.KLANT" />
                <label for="teKlant">Afspreken met klant</label>
            </span>
            <span class="rb-sleutels">
                <RadioButton v-model="keuringForm.toegang_eenheid" input-id="teSleutels"
                    :value="ToegangEenheid.SLEUTELS" />
                <label for="teSleutels">Sleutels ophalen</label>
            </span>
        </div>
    </div>
    <div class="datum-plaatsbezoek">
        <h2>Datum Plaatsbezoek</h2>
        <div>
            <VueDatePicker v-model="keuringForm.datum_plaatsbezoek" :min-date="new Date()"
                preview-format="dd/MM/yyyy HH:mm" format="dd/MM/yyyy HH:mm" :min-time="{ hours: 7, minutes: 0 }"
                :max-time="{ hours: 19, minutes: 0 }" locale="nl" cancel-text="Sluiten"
                select-text="Selecteer" />
        </div>
    </div>
    <div class="opmerking">
        <h2>Opmerkingen</h2>
        <div>
            <Textarea v-model="keuringForm.opmerking" placeholder="Opmerkingen"></Textarea>
        </div>
    </div>
    <div class="extradocs" v-if="keuringForm.straatnaam && keuringForm.nummer">
        <h2>
            Extra <br />
            documenten
        </h2>
        <div class="uploader-wrapper">
            <input class="hidden" type="file" name="extraDocumenten" id="extraDocumenten" multiple
                @change="uploadExtraDocumenten" />
            <label for="extraDocumenten"> Extra documenten uploaden </label>
            <ul v-if="keuringForm.extra_documenten.length > 0">
                <li v-for="( document, index ) in  keuringForm.extra_documenten " :key="document.naam">
                    <p>
                        <span class="naam" :title="document.naam">
                            {{ document.naam }}
                        </span>
                        <span class="size">
                            {{ formatFileSize(document.size) }}
                        </span>
                    </p>
                    <button @click="($event) => removeDocument($event, index)">
                        <Icon icon="mdi:delete" width="16" />
                    </button>
                </li>
            </ul>
        </div>
    </div>
    <div class="acties">
        <input type="button" value="Annuleren" class="cancel" @click="router.replace('/keuringen')" />
        <input type="submit" value="Toevoegen" class="confirm" />
    </div>
</div> 